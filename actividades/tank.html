<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            display: flex;
            flex-wrap: wrap;
            background-color: white;
        }
        #lienzo {
            border: 1px solid black;
            background-image: url("ejercicios/tank/desierto.jpeg");
            background-size: cover;
        }
        #lienzo2 {
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <canvas id="lienzo" width="400" height="400"></canvas>
    <canvas id="lienzo2" width="400" height="400"></canvas>
</body>
<script>
    let lienzo = document.getElementById("lienzo");
    let ctx = lienzo.getContext("2d");
    let lienzo2 = document.getElementById("lienzo2");
    let ctx2 = lienzo2.getContext("2d");
    let frames = ['frame0.png', 'frame1.png', 'frame2.png', 'frame3.png', 'frame4.png', 'frame5.png', 'frame6.png', 'frame7.png', 'frame8.png', 'frame9.png',
        'frame10.png', 'frame11.png', 'frame12.png', 'frame13.png', 'frame14.png', 'frame15.png', 'frame16.png', 'frame17.png', 'frame18.png', 'frame19.png',
        'frame20.png', 'frame21.png', 'frame22.png', 'frame23.png', 'frame24.png', 'frame25.png', 'frame26.png', 'frame27.png', 'frame28.png', 'frame29.png'];

    var img = new Image();
    let frame = 0;

    var img2 = new Image();
    let frame2 = 0;
    let newframe = 0;
    function newFrame() {
        if (frame < 30) {
            img.src = 'ejercicios/tank/' + frames[frame];
            img.onload = function () { //esperar a la carga de la imagen
                ctx.clearRect(0, 0, 400, 400);
                let newHeight = 200; // Altura deseada para la imagen
                ctx.drawImage(img, 100, 150, img.height * (newHeight / img.height), newHeight);
            }
            frame++;
        } else {
            frame = 0;
        }
        setTimeout(newFrame, 100);
    }

    function newFrame2() {
        img2.src = 'ejercicios/MetalSlug.png';
        ctx2.clearRect(0, 0, 400, 400);
        if (frame2 < 4) {
            img2.onload = function () { //esperar a la carga de la imagen
                ctx2.drawImage(img2, 0+(frame2*85), 1970, 85, 130, 0, 0, 400, 700);
            }
            frame2++;
        }else if(frame2 >= 4 && frame2 < 6){
            img2.onload = function () { //esperar a la carga de la imagen
                ctx2.drawImage(img2, 0+(frame2*70), 1970, 74, 130, 0, 0, 400, 700);
            }
            frame2++;
        }else if(frame2 >= 6 && frame2 < 10){
            img2.onload = function () { //esperar a la carga de la imagen
                ctx2.drawImage(img2, 5+(newframe*70), 2040, 70, 130, 0, 0, 400, 700);
            }
            if(newframe >=3){
                newframe = 0;
            }
            newframe ++;
            frame2++;
        } else {
            frame2 = 0;
        }
        setTimeout(newFrame2, 100);
    }

    newFrame();
    newFrame2();
</script>

</html>