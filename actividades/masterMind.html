<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MasterMind</title>
    <style>
        body {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            background-color: rgb(16, 15, 15);
            
        }

        .row {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            cursor: pointer;
            width: 51%;
        }

        .circulo {
            border-radius: 100%;
            border: 2px solid white;
            width: 100px;
            height: 100px;
        }

        .puntos {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            align-items: center;
            width: 100px;
            height: 100px;
            border: 2px solid white;
        }

        .punto {
            width: 45px;
            height: 45px;
            border-radius: 100%;
            border: 1px solid white;
            background-color: white;
        }

        .red {
            background-color: red;
        }

        .blue {
            background-color: blue;
        }

        .orange {
            background-color: orange;
        }

        .violet {
            background-color: blueviolet;
        }

        .yellow {
            background-color: yellow;
        }

        .green {
            background-color: green;
        }

        .black {
            background-color: black;
        }

        .white {
            background-color: white;
        }

        .oculto {
            display: none;
        }
    </style>
</head>

<body>
    <div class="row" id="row0">
        <div class="circulo red" id="01" onclick="cambiaColor('01',0)"></div>
        <div class="circulo red" id="02" onclick="cambiaColor('02',0)"></div>
        <div class="circulo red" id="03" onclick="cambiaColor('03',0)"></div>
        <div class="circulo red" id="04" onclick="cambiaColor('04',0)"></div>
        <div class="puntos"
            onclick="resuelve('01','02','03','04','p01','p02','p03','p04'); mostrar('row1'); toggleFunc(0)">
            <div class="punto" id="p01"></div>
            <div class="punto" id="p02"></div>
            <div class="punto" id="p03"></div>
            <div class="punto" id="p04"></div>
        </div>
    </div>
    <div class="oculto" id="row1">
        <div class="circulo red" id="11" onclick="cambiaColor('11',1)"></div>
        <div class="circulo red" id="12" onclick="cambiaColor('12',1)"></div>
        <div class="circulo red" id="13" onclick="cambiaColor('13',1)"></div>
        <div class="circulo red" id="14" onclick="cambiaColor('14',1)"></div>
        <div class="puntos" onclick="resuelve('11','12','13','14','p11','p12','p13','p14'); mostrar('row2'), toggleFunc(1)">
            <div class="punto" id="p11"></div>
            <div class="punto" id="p12"></div>
            <div class="punto" id="p13"></div>
            <div class="punto" id="p14"></div>
        </div>
    </div>
    <div class="oculto" id="row2">
        <div class="circulo red" id="21" onclick="cambiaColor('21',2)"></div>
        <div class="circulo red" id="22" onclick="cambiaColor('22',2)"></div>
        <div class="circulo red" id="23" onclick="cambiaColor('23',2)"></div>
        <div class="circulo red" id="24" onclick="cambiaColor('24',2)"></div>
        <div class="puntos" onclick="resuelve('21','22','23','24','p21','p22','p23','p24'); mostrar('row3'), toggleFunc(2)">
            <div class="punto" id="p21"></div>
            <div class="punto" id="p22"></div>
            <div class="punto" id="p23"></div>
            <div class="punto" id="p24"></div>
        </div>
    </div>
    <div class="oculto" id="row3">
        <div class="circulo red" id="31" onclick="cambiaColor('31',3)"></div>
        <div class="circulo red" id="32" onclick="cambiaColor('32',3)"></div>
        <div class="circulo red" id="33" onclick="cambiaColor('33',3)"></div>
        <div class="circulo red" id="34" onclick="cambiaColor('34',3)"></div>
        <div class="puntos" onclick="resuelve('31','32','33','34','p31','p32','p33','p34'); mostrar('row4'), toggleFunc(3)">
            <div class="punto" id="p31"></div>
            <div class="punto" id="p32"></div>
            <div class="punto" id="p33"></div>
            <div class="punto" id="p34"></div>
        </div>
    </div>
    <div class="oculto" id="row4">
        <div class="circulo red" id="41" onclick="cambiaColor('41',4)"></div>
        <div class="circulo red" id="42" onclick="cambiaColor('42',4)"></div>
        <div class="circulo red" id="43" onclick="cambiaColor('43',4)"></div>
        <div class="circulo red" id="44" onclick="cambiaColor('44',4)"></div>
        <div class="puntos" onclick="resuelve('41','42','43','44','p41','p42','p43','p44'); mostrar('row5'), toggleFunc(4)">
            <div class="punto" id="p41"></div>
            <div class="punto" id="p42"></div>
            <div class="punto" id="p43"></div>
            <div class="punto" id="p44"></div>
        </div>
    </div>
    <div class="oculto" id="row5">
        <div class="circulo red" id="51" onclick="cambiaColor('51',5)"></div>
        <div class="circulo red" id="52" onclick="cambiaColor('52',5)"></div>
        <div class="circulo red" id="53" onclick="cambiaColor('53',5)"></div>
        <div class="circulo red" id="54" onclick="cambiaColor('54',5)"></div>
        <div class="puntos" onclick="resuelve('51','52','53','54','p51','p52','p53','p54'); mostrar('row6'), toggleFunc(5)">
            <div class="punto" id="p51"></div>
            <div class="punto" id="p52"></div>
            <div class="punto" id="p53"></div>
            <div class="punto" id="p54"></div>
        </div>
    </div>
    <div class="oculto" id="row6">
        <div class="circulo red" id="61" onclick="cambiaColor('61',6)"></div>
        <div class="circulo red" id="62" onclick="cambiaColor('62',6)"></div>
        <div class="circulo red" id="63" onclick="cambiaColor('63',6)"></div>
        <div class="circulo red" id="64" onclick="cambiaColor('64',6)"></div>
        <div class="puntos" onclick="resuelve('61','62','63','64','p61','p62','p63','p64'); mostrar('row7'), toggleFunc(6)">
            <div class="punto" id="p61"></div>
            <div class="punto" id="p62"></div>
            <div class="punto" id="p63"></div>
            <div class="punto" id="p64"></div>
        </div>
    </div>
    <div class="oculto" id="row7">
        <div class="circulo red" id="71" onclick="cambiaColor('71',7)"></div>
        <div class="circulo red" id="72" onclick="cambiaColor('72',7)"></div>
        <div class="circulo red" id="73" onclick="cambiaColor('73',7)"></div>
        <div class="circulo red" id="74" onclick="cambiaColor('74',7)"></div>
        <div class="puntos" onclick="resuelve('71','72','73','74','p71','p72','p73','p74'); mostrar('row8'), toggleFunc(7)">
            <div class="punto" id="p71"></div>
            <div class="punto" id="p72"></div>
            <div class="punto" id="p73"></div>
            <div class="punto" id="p74"></div>
        </div>
    </div>
    <div class="oculto" id="row8">
        <div class="circulo red" id="81" onclick="cambiaColor('81',8)"></div>
        <div class="circulo red" id="82" onclick="cambiaColor('82',8)"></div>
        <div class="circulo red" id="83" onclick="cambiaColor('83',8)"></div>
        <div class="circulo red" id="84" onclick="cambiaColor('84',8)"></div>
        <div class="puntos" onclick="resuelve('81','82','83','84','p81','p82','p83','p84'); mostrar('row9'), toggleFunc(8)">
            <div class="punto" id="p81"></div>
            <div class="punto" id="p82"></div>
            <div class="punto" id="p83"></div>
            <div class="punto" id="p84"></div>
        </div>
    </div>
    <div class="oculto" id="row9">
        <div class="circulo red" id="91" onclick="cambiaColor('91',9)"></div>
        <div class="circulo red" id="92" onclick="cambiaColor('92',9)"></div>
        <div class="circulo red" id="93" onclick="cambiaColor('93',9)"></div>
        <div class="circulo red" id="94" onclick="cambiaColor('94',9)"></div>
        <div class="puntos" onclick="resuelve('91','92','93','94','p91','p92','p93','p94'); mostrar('row10'), toggleFunc(9)">
            <div class="punto" id="p91"></div>
            <div class="punto" id="p92"></div>
            <div class="punto" id="p93"></div>
            <div class="punto" id="p94"></div>
        </div>
    </div>
    <div class="oculto" id="row10">
        <div class="circulo red" id="101" onclick="cambiaColor('101',10)"></div>
        <div class="circulo red" id="102" onclick="cambiaColor('102',10)"></div>
        <div class="circulo red" id="103" onclick="cambiaColor('103',10)"></div>
        <div class="circulo red" id="104" onclick="cambiaColor('104',10)"></div>
        <div class="puntos" onclick="resuelve('101','102','103','104','p101','p102','p103','p104'); mostrar('row11'), toggleFunc(10)">
            <div class="punto" id="p101"></div>
            <div class="punto" id="p102"></div>
            <div class="punto" id="p103"></div>
            <div class="punto" id="p104"></div>
        </div>
    </div>
    <div class="oculto" id="row11">
        <div class="circulo red" id="111" onclick="cambiaColor('111',11)"></div>
        <div class="circulo red" id="112" onclick="cambiaColor('112',11)"></div>
        <div class="circulo red" id="113" onclick="cambiaColor('113',11)"></div>
        <div class="circulo red" id="114" onclick="cambiaColor('114',11)"></div>
        <div class="puntos" onclick="resuelve('111','112','113','114','p111','p112','p113','p114'), toggleFunc(11)">
            <div class="punto" id="p111"></div>
            <div class="punto" id="p112"></div>
            <div class="punto" id="p113"></div>
            <div class="punto" id="p114"></div>
        </div>
    </div>
</body>
<script>
    let funcionHabilitada = [true,true,true,true,true,true,true,true,true,true,true];
    let colores = ['red', 'blue', 'orange', 'violet', 'yellow', 'green'];
    const res = [];
    for (let i = 0; i <= 3; i++) {
        let random = Math.floor(Math.random() * 6);
        res[i] = colores[random];
    }
    //let copia = ...res;
    

    function cambiaColor(id,pos) {
        let circle = document.getElementById(id);
        let clases = circle.classList;
        let contieneClaseColor = "";

        //console.log(clases[1]);
        if (funcionHabilitada[pos] == true) {
            for (let i = 0; i < colores.length; i++) {
                if (clases[1] == colores[i]) {
                    if (colores[i] == 'green') {
                        circle.classList.remove(colores[i]);
                        circle.classList.add(colores[i - 5]);
                        break;
                    } else {
                        circle.classList.remove(colores[i]);
                        circle.classList.add(colores[i + 1]);
                        break;
                    }
                }
            }
        }
    }

    function mostrar(id) {
        let divMod = document.getElementById(id);

        divMod.classList.add('row');
        divMod.classList.remove('oculto');
    }

    function toggleFunc(pos) {
        funcionHabilitada[pos] = false;
    }

    function resuelve(id1, id2, id3, id4, p1, p2, p3, p4) {
        let copia = [];
        for(let i = 0; i < 4; i++){
            copia[i] = [...res][i];
        }
        
        let circle1 = document.getElementById(id1);
        let clases1 = circle1.classList;
        let circle2 = document.getElementById(id2);
        let clases2 = circle2.classList;
        let circle3 = document.getElementById(id3);
        let clases3 = circle3.classList;
        let circle4 = document.getElementById(id4);
        let clases4 = circle4.classList;

        /*clasep1 = p01.classList;
        clasep2 = p02.classList;
        clasep3 = p03.classList;
        clasep4 = p04.classList;*/

        clasesPeq = [p01.classList,p02.classList,p03.classList,p04.classList];
        clasesp = [clases1[1], clases2[1], clases3[1], clases4[1]];
        let puntos = [document.getElementById(p1),document.getElementById(p2),document.getElementById(p3),document.getElementById(p4)];
        //console.log(copia);
        
        for (let i = 0; i < 4; i++) {
            for (let j = 0; j < 4; j++) {
                if (clasesp[i] == copia[j]) {
                    if (i == j) {
                        copia[i] = 'resuelta';
                        puntos[i].classList.remove(clasesPeq[i][1]);
                        puntos[i].classList.add(colores[0]);
                        break;
                    } else {
                        puntos[i].classList.remove(clasesPeq[i][1]);
                        puntos[i].classList.add('black');
                    }
                }
            }
        }
        if(puntos[0].classList[1] == 'red' && puntos[1].classList[1] == 'red' && puntos[2].classList[1] == 'red' && puntos[3].classList[1] == 'red'){
            alert('HAS GANADO!');
            location.reload();
        } 
    }
</script>

</html>